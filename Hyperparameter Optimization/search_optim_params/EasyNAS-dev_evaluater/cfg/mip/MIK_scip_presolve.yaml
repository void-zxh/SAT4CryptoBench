root_path: &root_path runs/mip/MIK_SCIP_presolve/

instance: &instance
  submodule_name: src.mip.loader.InstanceLoader
  args:
      dataset_name: MIK_bounded

solver: &solver
  submodule_name: src.mip.scip_solver.SCIPSolver
  args:
    solver_params:
        limits/time: 600
        #        presolving/stuffing/priority: -480124.1078791458
        #        presolving/stuffing/maxrounds: -1
        #        presolving/stuffing/timing: 8.658026974597561 
        #        presolving/dualsparsify/priority: -87780.17254810582
        #        presolving/dualsparsify/maxrounds: -1
        #        presolving/dualsparsify/timing: 18.768835966605174
        #        presolving/sparsify/priority: -725244.3936919568
        #        presolving/sparsify/maxrounds: 1
        #        presolving/sparsify/timing: 14.262776733950098 
        #        presolving/tworowbnd/priority: -787747.4422131501 
        #        presolving/tworowbnd/maxrounds: 0 
        #        presolving/tworowbnd/timing: 30.71251556809599 
        #        presolving/redvub/priority: -277258.3784563476 
        #        presolving/redvub/maxrounds: -1
        #        presolving/redvub/timing: 6.356313124269432 
        #        presolving/implics/priority: -37479.32252476772
        #        presolving/implics/maxrounds: 0
        #        presolving/implics/timing: 31.491309455036152 
        #        presolving/dualinfer/priority: -680317.2109326716 
        #        presolving/dualinfer/maxrounds: 1
        #        presolving/dualinfer/timing: 18.29620437032925 
        #        presolving/dualagg/priority: -650895.559549964 
        #        presolving/dualagg/maxrounds: 1 
        #        presolving/dualagg/timing: 18.938955725391125 
        #        presolving/domcol/priority: -831746.2406719232 
        #        presolving/domcol/maxrounds: 1 
        #        presolving/domcol/timing: 25.584265139204582 
        #        presolving/gateextraction/priority: 933937.6541840371 
        #        presolving/gateextraction/maxrounds: 0 
        #        presolving/gateextraction/timing: 5.286002832051571 
        #        presolving/boundshift/priority: 282604.07781965984
        #        presolving/boundshift/maxrounds: 1 
        #        presolving/boundshift/timing: 8.236113790637917 
        #        presolving/convertinttobin/priority: 102370.32954627344 
        #        presolving/convertinttobin/maxrounds: -1 
        #        presolving/convertinttobin/timing: 16.93209291569214 
        #        presolving/inttobinary/priority: 679212.4940299873 
        #        presolving/inttobinary/maxrounds: 1 
        #        presolving/inttobinary/timing: 22.207834815218114 
        #        presolving/trivial/priority: 88670.81389259029 
        #        presolving/trivial/maxrounds: 1 
        #        presolving/trivial/timing: 11.624052781902877

        # presolving
        #        presolving/stuffing/priority: -6786393.6531085995
        #        presolving/stuffing/maxrounds: -1
        #        presolving/stuffing/timing: 6
        #        presolving/dualsparsify/priority: -371900.1335700763
        #        presolving/dualsparsify/maxrounds: 1
        #        presolving/dualsparsify/timing: 16
        ##        limits/memory: 12288 #12*1024
        #        # Branching
        #        branching/scorefunc: p #['s', 'q', 'p']
        #        branching/scorefac: 0.167 # 0.0...1.0
        #        branching/preferbinary: False # [True, False]
        #        branching/clamp: 0.2 # 0.0...0.5
        #        branching/midpull: 0.75 # 0.0...1.0
        #        branching/midpullreldomtrig: 0.5 # 0.0...1.0
        #        branching/lpgainnormalize: s # ['d', 'l', 's']
        #        # LP
        ##        lp/threads: 8
        #        lp/pricing: l # ["l", "a", "f", "p", "s", "q", "d"]
        #        lp/colagelimit: 10 # -1...2147483647
        #        lp/rowagelimit: 10 # -1...2147483647
        #        # Node Selection
        #        nodeselection/childsel: h # ["d", "u", "p", "i", "l", "r", "h"]
        #        # Separating
        ##        separating/minortho: 0.9 # 0.0...1.0
        ##        separating/minorthoroot: 0.9 # 0.0...1.0
        #        separating/maxcuts: 100 # 0...2147483647
        #        separating/maxcutsroot: 2000 # 0...2147483647
        #        separating/cutagelimit: 80 # -1...2147483647
        #        separating/poolfreq: 10 # -1...65534

hooks: &hooks
  eval_hook:
    submodule_name: src.mip.eval_hook.EvalHOOK
    args: 
      priority: 10
      eval_names: [neg-sum-gap, neg-geoMean-time, neg-sum-time]
  
  log_hook:
    submodule_name: src.mip.log_hook.LogHOOK
    args:
      logger_name: MIPEngine
      log_path: !join [*root_path, train.log]
      print_freq: 1
      priority: 30

engine:
  submodule_name: engines.MIPEngine
  args:
    instance: *instance
    solver: *solver
    hooks: *hooks





